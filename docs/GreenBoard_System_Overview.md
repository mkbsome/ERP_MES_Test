# 그린보드 일렉트로닉스 ERP/MES 시스템 종합 설계서

## 1. 프로젝트 개요

### 1.1 대상 기업 프로필

| 항목 | 내용 |
|------|------|
| **회사명** | (주)그린보드 일렉트로닉스 (GreenBoard Electronics) |
| **업종** | PCB/전자부품 제조 |
| **규모** | 중견기업 (직원 350명, 연매출 1,800억원) |
| **공장** | 2개 (평택, 안성) |
| **생산라인** | 15개 (SMT 10개, THT 2개, 조립 3개) |
| **제품군** | 스마트폰 메인보드, 전원보드, LED 드라이버, 자동차 ECU, IoT 모듈 |

### 1.2 시스템 목적

1. **AI 플랫폼 테스트**: Judgment Engine, Workflow, BI Service 검증용 데이터 제공
2. **데모/영업용**: 고객 시연을 위한 현실적인 제조 시나리오
3. **통합 테스트**: End-to-End 시스템 검증 환경

---

## 2. 시스템 구성 요약

```
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        그린보드 일렉트로닉스 통합 시스템                          │
├─────────────────────────────────────────────────────────────────────────────────┤
│                                                                                 │
│  ┌─────────────────────────────┐      ┌─────────────────────────────┐          │
│  │           ERP               │      │           MES               │          │
│  │    (56개 화면, 7+1 모듈)     │ ←──→ │    (74개 화면, 7 모듈)       │          │
│  ├─────────────────────────────┤      ├─────────────────────────────┤          │
│  │ • 기준정보관리 (8)          │      │ • 기준정보관리 (12)         │          │
│  │ • 구매관리 (8)              │      │ • 생산관리 (14)             │          │
│  │ • 영업관리 (10)             │      │ • 품질관리 (12)             │          │
│  │ • 재고관리 (6)              │      │ • 설비관리 (10)             │          │
│  │ • 생산관리 (8)              │      │ • 현장관리/POP (12)         │          │
│  │ • 회계관리 (6)              │      │ • I/F 연계 (6)              │          │
│  │ • 인사급여관리 (6)          │      │ • 시스템관리 (8)            │          │
│  │ • 시스템관리 (4)            │      │                             │          │
│  └─────────────────────────────┘      └─────────────────────────────┘          │
│                │                                    │                          │
│                └──────────────┬─────────────────────┘                          │
│                               │                                                 │
│                               ▼                                                 │
│                    ┌─────────────────────┐                                      │
│                    │    AI 플랫폼 연계    │                                      │
│                    │  (Judgment/BI/WF)   │                                      │
│                    └─────────────────────┘                                      │
│                                                                                 │
└─────────────────────────────────────────────────────────────────────────────────┘

총 화면 수: 130개 (ERP 56 + MES 74)
```

---

## 3. 모듈별 화면 수 비교

### 3.1 ERP 모듈 (56개 화면)

| 모듈 | 화면 수 | 핵심 기능 |
|------|--------|----------|
| 기준정보관리 | 8 | 공통코드, 품목, 거래처, BOM, 단가, 창고 |
| 구매관리 | 8 | 발주, 입고, 매입, 공급업체평가 |
| 영업관리 | 10 | 견적, 수주, 출하, 매출, 채권 |
| 재고관리 | 6 | 재고현황, 이동, 조정, 안전재고 |
| 생산관리 | 8 | 제조오더, MPS, MRP, 생산실적 |
| 회계관리 | 6 | 전표, 장부, 원가분석 |
| 인사급여관리 | 6 | 인사정보, 근태, 급여 |
| 시스템관리 | 4 | 사용자, 권한, 메뉴, 로그 |

### 3.2 MES 모듈 (74개 화면)

| 모듈 | 화면 수 | 핵심 기능 |
|------|--------|----------|
| 기준정보관리 | 12 | 코드, 공정, 품목, 작업자, 불량유형, 설비 |
| 생산관리 | 14 | 생산계획, 작업지시, 작업실적, 가동현황, LOT추적 |
| 품질관리 | 12 | SPI/AOI검사, 자주검사, 불량관리, SPC |
| 설비관리 | 10 | 설비정보, 모니터링, OEE, 보전관리 |
| 현장관리(POP) | 12 | 작업시작/종료, 실적등록, 공정진행 |
| I/F(연계) | 6 | ERP연계, AI플랫폼 연계 |
| 시스템관리 | 8 | 사용자, 권한, POP설정 |

---

## 4. 참조 시스템 대비 커스터마이징

### 4.1 제외/축소 기능

| 기능 | 참조 시스템 | 그린보드 | 사유 |
|------|------------|---------|------|
| 통관/BL관리 | 있음 | **제외** | 내수 중심 기업 |
| 외주관리(SCM) | 있음 | **축소** | 내부 생산 중심 |
| 프로젝트관리 | 있음 (ERP) | **제외** | 양산 제조업 특성 |
| G/W(그룹웨어) | 있음 | **제외** | 별도 시스템 사용 |

### 4.2 추가/강화 기능

| 기능 | 참조 시스템 | 그린보드 | 사유 |
|------|------------|---------|------|
| SPI/AOI 검사 | 일반 검사 | **PCB 특화** | SMT 공정 필수 |
| 설비 OEE | 기본 가동률 | **OEE 분석** | AI 연계 핵심 |
| MPS/MRP | 제조오더만 | **계획 기능 강화** | 중견기업 수준 |
| AI 연계 I/F | 없음 | **신규 추가** | 플랫폼 테스트 목적 |

---

## 5. PCB/SMT 제조 특화 설계

### 5.1 SMT 라인 공정 흐름

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          SMT 생산 라인 흐름                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────┐   ┌─────┐   ┌─────┐   ┌─────┐   ┌─────┐   ┌─────┐               │
│  │Loader│ → │Printer│ → │ SPI │ → │Mounter│ → │Reflow│ → │ AOI │           │
│  └─────┘   └─────┘   └─────┘   └─────┘   └─────┘   └─────┘               │
│     │          │          │          │          │          │               │
│   PCB       솔더       솔더       부품        솔더       외관               │
│   투입      도포       검사       실장        용융       검사               │
│                                                                             │
│                         ┌─────┐   ┌─────┐   ┌─────┐                        │
│                       → │Unloader│ → │ 수리 │ → │ 완성 │                     │
│                         └─────┘   └─────┘   └─────┘                        │
│                            │          │          │                          │
│                          PCB       불량       완제품                         │
│                          취출      수리       LOT                           │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 주요 설비 (라인당)

| 설비 | 수량 | 수집 데이터 |
|------|------|------------|
| Loader | 1대 | 투입수, 에러 |
| Screen Printer | 1대 | 압력, 속도, 클리닝 |
| SPI | 1대 | 볼륨, 높이, 면적, 불량 |
| Chip Mounter | 2대 | 실장수, 흡착에러, 인식에러 |
| Multi Mounter | 1대 | 실장수, 에러 |
| Reflow Oven | 1대 | 온도(8존), 컨베이어속도 |
| AOI | 1대 | 검사수, 불량유형, False Call |
| Unloader | 1대 | 산출수 |

### 5.3 PCB 불량 유형 (12종)

| 코드 | 불량유형 | 원인 설비 |
|------|----------|----------|
| DF01 | 솔더브릿지 (Bridge) | Printer, Reflow |
| DF02 | 미납 (Open) | Printer |
| DF03 | 직립 (Tombstone) | Reflow |
| DF04 | 부품누락 (Missing) | Mounter |
| DF05 | 위치이탈 (Shift) | Mounter |
| DF06 | 오삽 (Wrong Part) | Mounter |
| DF07 | 극성반대 (Polarity) | Mounter |
| DF08 | 냉납 (Cold Solder) | Reflow |
| DF09 | 크랙 (Crack) | Reflow |
| DF10 | 보이드 (Void) | Reflow |
| DF11 | 들뜸 (Lifted) | Reflow |
| DF12 | 이물 (Foreign Material) | 전체 |

---

## 6. ERP-MES 연계 구조

### 6.1 데이터 흐름

```
┌─────────────────────────────────────────────────────────────────┐
│                      ERP ←→ MES 연계                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│   ERP → MES                           MES → ERP                 │
│   ─────────────                       ─────────────             │
│   • 제조오더 발행     ────────→       • 생산실적 확정           │
│   • 품목/BOM 정보     ────────→       • 자재소모 내역           │
│   • 수주 정보         ────────→       • 불량 정보               │
│                                       • 완제품 입고             │
│                       ←────────                                 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 6.2 연계 테이블

| 방향 | 테이블명 | 내용 |
|------|----------|------|
| ERP→MES | erp_mes_work_order_if | 작업지시 배포 |
| ERP→MES | erp_mes_bom_if | BOM/Routing 동기화 |
| ERP→MES | erp_mes_material_if | 자재정보 동기화 |
| MES→ERP | mes_erp_production_if | 생산실적 확정 |
| MES→ERP | mes_erp_goods_movement_if | 자재 입출고 |
| MES→ERP | mes_erp_defect_if | 불량 보고 |

---

## 7. AI 플랫폼 연계

### 7.1 데이터 제공 (ERP/MES → AI)

| 시스템 | 데이터 | 트리거 | AI 용도 |
|--------|--------|--------|---------|
| MES | 불량 데이터 | 불량률 > 2.5% | 품질 이상 판단 |
| MES | 설비 OEE | OEE < 75% | 설비 건강 판단 |
| MES | SPI/AOI 검사 | 실시간 | 품질 예측 |
| ERP | 재고 현황 | 안전재고 도달 | 수요 예측 |
| ERP | 수주 정보 | 긴급 수주 | 납기 분석 |

### 7.2 결과 수신 (AI → ERP/MES)

| AI 결과 | 대상 시스템 | 표시 화면 |
|---------|------------|----------|
| 품질 이상 경고 | MES | 알림센터 |
| 설비 고장 예측 | MES | 설비모니터링 |
| 발주 권고 | ERP | 안전재고관리 |
| 납기 리스크 | ERP | 수주현황 |

---

## 8. 개발 로드맵

### Phase 1: 핵심 기능 (54개 화면)

| 시스템 | 화면 수 | 범위 |
|--------|--------|------|
| ERP | 24 | 기준정보, 구매, 영업, 재고, 생산 핵심 |
| MES | 30 | 기준정보, 생산, 품질, 설비, POP 핵심 |

### Phase 2: 확장 기능 (44개 화면)

| 시스템 | 화면 수 | 범위 |
|--------|--------|------|
| ERP | 20 | 회계, 인사, 나머지 기능 |
| MES | 24 | 분석 기능, 나머지 POP |

### Phase 3: 고도화 (32개 화면)

| 시스템 | 화면 수 | 범위 |
|--------|--------|------|
| ERP | 12 | AI연계, 분석, 리포트 |
| MES | 20 | AI연계, SPC, 대시보드 |

---

## 9. 기술 스택

### Frontend
- **Framework**: React 18 + TypeScript
- **State**: TanStack Query + Zustand
- **UI**: Tailwind CSS + shadcn/ui
- **Table**: TanStack Table
- **Form**: React Hook Form + Zod
- **Charts**: Recharts

### Backend (시뮬레이터)
- **Database**: PostgreSQL 14+
- **ORM**: SQLAlchemy
- **API**: REST (FastAPI 또는 Express)

### 데이터 생성
- **Language**: Python 3.11+
- **Libraries**: Faker, NumPy, Pandas

---

## 10. 관련 문서

| 문서명 | 파일명 | 내용 |
|--------|--------|------|
| MES 모듈 상세 | GreenBoard_MES_Module_Spec.md | MES 74개 화면 상세 |
| ERP 모듈 상세 | GreenBoard_ERP_Module_Spec.md | ERP 56개 화면 상세 |
| 기존 스키마 설계 | schema/erp/*.sql | ERP 테이블 DDL |
| 기존 스키마 설계 | schema/mes/*.sql | MES 테이블 DDL |

---

*문서 버전: 1.0*
*작성일: 2025-01-29*
*작성자: AI Assistant*

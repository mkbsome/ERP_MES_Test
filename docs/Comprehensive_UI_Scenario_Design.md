# TriFlow-AI 통합 시나리오 설계서

> **목적**: ERP/MES 시뮬레이터 UI가 TriFlow-AI의 모든 핵심 가치를 시연할 수 있도록 종합 시나리오 설계

---

## 1. 솔루션 핵심 기능 맵

### 1.1 TriFlow-AI 5대 핵심 가치

| # | 핵심 가치 | 핵심 기능 | UI 시연 포인트 |
|---|----------|----------|---------------|
| 1 | **지속적 판단 학습** | 피드백 → Rule 자동 추출 | 👍👎 피드백, 학습 현황, Rule 자동 생성 |
| 2 | **시스템 자유 연결** | MCP/DB/MQTT 통합 | 커넥터 관리, 연결 상태, Drift 감지 |
| 3 | **자연어 BI** | 자연어 → 차트 자동 생성 | Chat BI, 카탈로그, 차트 자동 렌더링 |
| 4 | **지능형 DB** | ETL 자동화, 벡터 검색, 품질 관리 | ETL 현황, 유사 사례 검색, 데이터 품질 |
| 5 | **Hybrid Judgment** | Rule + LLM 최적 조합 | 판단 실행, 근거 설명, 정책 설정 |

### 1.2 서비스별 기능 맵

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           TriFlow-AI 서비스 구조                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐          │
│  │ Judgment Service │  │ Workflow Service │  │ Learning Service │          │
│  ├──────────────────┤  ├──────────────────┤  ├──────────────────┤          │
│  │ • Hybrid 판단    │  │ • 워크플로우 설계 │  │ • 피드백 수집    │          │
│  │ • Rule 실행      │  │ • 노드 실행 관리  │  │ • 샘플 큐레이션  │          │
│  │ • LLM 호출       │  │ • 트리거 관리    │  │ • Rule 자동 추출 │          │
│  │ • Replay 시뮬    │  │ • 조건/분기 처리  │  │ • Canary 배포   │          │
│  └──────────────────┘  └──────────────────┘  └──────────────────┘          │
│                                                                             │
│  ┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐          │
│  │   BI Service     │  │   Chat Service   │  │  Data Hub Service │         │
│  ├──────────────────┤  ├──────────────────┤  ├──────────────────┤          │
│  │ • 자연어 파싱    │  │ • 대화 관리      │  │ • ETL 파이프라인 │          │
│  │ • SQL 자동 생성  │  │ • Intent 라우팅  │  │ • 벡터 임베딩    │          │
│  │ • 차트 자동 생성 │  │ • Multi-turn     │  │ • 품질 검사      │          │
│  │ • BI 카탈로그   │  │ • 명령 실행      │  │ • 파티션 관리    │          │
│  └──────────────────┘  └──────────────────┘  └──────────────────┘          │
│                                                                             │
│  ┌──────────────────┐  ┌──────────────────┐                                │
│  │ MCP ToolHub      │  │ Admin Service    │                                │
│  ├──────────────────┤  ├──────────────────┤                                │
│  │ • MCP 서버 연동  │  │ • 테넌트 관리    │                                │
│  │ • Circuit Breaker│  │ • 사용자 관리    │                                │
│  │ • 헬스 체크      │  │ • 권한 관리      │                                │
│  │ • Drift 감지     │  │ • 감사 로그      │                                │
│  └──────────────────┘  └──────────────────┘                                │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 2. 핵심 시나리오 정의

### 시나리오 1: 품질 이상 감지 → AI 판단 → 피드백 학습

> **목적**: Hybrid Judgment + 피드백 학습 사이클 시연

```
[ERP/MES 화면]                    [AI 플랫폼]                    [학습 사이클]
     │                                │                              │
     │ ① 불량 데이터 등록              │                              │
     ├──────────────────────────────>│                              │
     │                                │ ② Judgment 실행              │
     │                                │ (Rule + LLM Hybrid)          │
     │                                │                              │
     │ ③ 판단 결과 표시               │                              │
     │<───────────────────────────────┤                              │
     │ • 상태: HIGH_DEFECT            │                              │
     │ • 신뢰도: 92%                  │                              │
     │ • 근거: "불량률 5% 초과..."      │                              │
     │                                │                              │
     │ ④ 피드백 입력 (👍/👎)          │                              │
     ├──────────────────────────────>│──────────────────────────────>│
     │                                │                              │
     │                                │              ⑤ 샘플 축적     │
     │                                │              (50개+ 누적 시)  │
     │                                │                              │
     │                                │              ⑥ Rule 자동 추출 │
     │                                │              (Decision Tree)  │
     │                                │                              │
     │                                │              ⑦ Canary 배포   │
     │                                │              (10% 트래픽)     │
```

**UI 화면**:
1. **MES > 품질관리 > 불량등록** - 불량 데이터 입력
2. **알림센터** - AI 판단 결과 확인 (👍👎 피드백 버튼)
3. **AI 관리 > 학습 현황** - 샘플 축적 현황, Rule 추출 상태
4. **AI 관리 > 배포 관리** - Canary 배포 모니터링

---

### 시나리오 2: 워크플로우 자동 설계

> **목적**: 자연어로 워크플로우 자동 생성

```
┌─────────────────────────────────────────────────────────────────────────┐
│                       워크플로우 자동 설계 시나리오                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  👤 사용자 입력:                                                         │
│  "불량률이 3% 넘으면 품질팀에 알림 보내고, 5% 넘으면 라인 정지 권고해줘"    │
│                                                                         │
│                              ▼                                          │
│                                                                         │
│  🤖 AI 분석 (Intent Parsing):                                           │
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │ Trigger: 불량률 모니터링 (실시간)                                    ││
│  │ Condition 1: defect_rate > 0.03 → Action: Slack 알림 (품질팀)       ││
│  │ Condition 2: defect_rate > 0.05 → Action: 라인정지 권고 + 알림      ││
│  └────────────────────────────────────────────────────────────────────┘│
│                                                                         │
│                              ▼                                          │
│                                                                         │
│  📋 자동 생성된 워크플로우:                                               │
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │  [Trigger]     [Judgment]      [Condition]      [Action]           ││
│  │  ┌──────┐     ┌──────────┐    ┌──────────┐    ┌──────────┐        ││
│  │  │ CRON │ ──> │ 불량률   │ ──>│ > 3%?    │ ─Y─>│ Slack    │        ││
│  │  │ 5min │     │ 판단     │    │          │    │ 알림     │        ││
│  │  └──────┘     └──────────┘    └────┬─────┘    └──────────┘        ││
│  │                                    │N                              ││
│  │                                    ▼                               ││
│  │                              ┌──────────┐    ┌──────────┐          ││
│  │                              │ > 5%?    │ ─Y─>│ 라인정지 │          ││
│  │                              │          │    │ + 알림   │          ││
│  │                              └──────────┘    └──────────┘          ││
│  └────────────────────────────────────────────────────────────────────┘│
│                                                                         │
│  [편집] [테스트 실행] [배포]                                             │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

**UI 화면**:
1. **워크플로우 > 자동 설계** - 자연어 입력 → 워크플로우 자동 생성
2. **워크플로우 > 편집기** - 드래그 앤 드롭 노드 편집
3. **워크플로우 > 시뮬레이션** - 테스트 데이터로 실행 테스트
4. **워크플로우 > 관리** - 활성 워크플로우 목록, 실행 이력

---

### 시나리오 3: BI 자동 생성 (자연어 → 차트)

> **목적**: SQL 없이 자연어로 데이터 분석

```
┌─────────────────────────────────────────────────────────────────────────┐
│                       자연어 BI 시나리오                                  │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  💬 Chat Interface:                                                     │
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │                                                                    ││
│  │  👤 "이번 주 라인별 불량률 비교해줘"                                 ││
│  │                                                                    ││
│  │  🤖 분석 중...                                                     ││
│  │                                                                    ││
│  │  📊 라인별 불량률 비교 (2024-07-15 ~ 2024-07-21)                    ││
│  │  ┌────────────────────────────────────────────────────────────┐   ││
│  │  │  불량률 (%)                                                 │   ││
│  │  │   5% ┤  ████                                               │   ││
│  │  │   4% ┤  ████  ████                                         │   ││
│  │  │   3% ┤  ████  ████  ████                                   │   ││
│  │  │   2% ┤  ████  ████  ████  ████                             │   ││
│  │  │   1% ┤  ████  ████  ████  ████  ████                       │   ││
│  │  │      └───────────────────────────────────────              │   ││
│  │  │       L01   L02   L03   L04   L05                          │   ││
│  │  └────────────────────────────────────────────────────────────┘   ││
│  │                                                                    ││
│  │  📋 요약:                                                          ││
│  │  • L01 라인 불량률 4.2%로 가장 높음                                 ││
│  │  • 평균 대비 2.1배 높은 수준                                        ││
│  │  • 주요 불량: 솔더브릿지 (45%)                                      ││
│  │                                                                    ││
│  │  👤 "L01 라인 불량 원인 분석해줘"                                   ││
│  │                                                                    ││
│  │  🤖 L01 라인 Root Cause Analysis...                                ││
│  │                                                                    ││
│  └────────────────────────────────────────────────────────────────────┘│
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

**UI 화면**:
1. **AI 어시스턴트** - Chat 인터페이스 (메인)
2. **BI > 카탈로그** - 분석 가능한 메트릭/차원 조회
3. **BI > 대시보드 빌더** - 자동 생성 차트 저장/배치
4. **BI > 저장된 쿼리** - 자주 쓰는 질의 저장

---

### 시나리오 4: 유사 사례 검색 (RAG)

> **목적**: 과거 사례 기반 문제 해결 지원

```
┌─────────────────────────────────────────────────────────────────────────┐
│                       유사 사례 검색 시나리오                              │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  [현재 발생 이슈]                                                        │
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │ 라인: SMT-L01                                                      ││
│  │ 불량 유형: 솔더브릿지 (BRIDGE)                                      ││
│  │ 불량률: 4.5%                                                       ││
│  │ 발생 시간: 2024-07-15 14:30                                        ││
│  │ 온도: 28.5°C, 습도: 68%                                            ││
│  └────────────────────────────────────────────────────────────────────┘│
│                                                                         │
│  [유사 사례 찾기] 버튼 클릭                                               │
│                                                                         │
│                              ▼                                          │
│                                                                         │
│  [검색 결과 - 유사도 순]                                                  │
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │                                                                    ││
│  │  1. 📋 사례 #2024-0512 (유사도: 94%)                     [상세보기] ││
│  │     날짜: 2024-05-12, 라인: SMT-L01                                ││
│  │     불량: 솔더브릿지 5.2%                                           ││
│  │     원인: 스텐실 막힘 (세정 주기 초과)                               ││
│  │     조치: 스텐실 세정 → 불량률 1.2%로 개선                          ││
│  │                                                                    ││
│  │  2. 📋 사례 #2024-0423 (유사도: 87%)                     [상세보기] ││
│  │     날짜: 2024-04-23, 라인: SMT-L02                                ││
│  │     불량: 솔더브릿지 3.8%                                           ││
│  │     원인: 솔더페이스트 점도 이상                                     ││
│  │     조치: 솔더페이스트 교체 → 정상화                                 ││
│  │                                                                    ││
│  │  3. 📋 사례 #2024-0305 (유사도: 82%)                     [상세보기] ││
│  │     ...                                                            ││
│  │                                                                    ││
│  └────────────────────────────────────────────────────────────────────┘│
│                                                                         │
│  💡 AI 권고 조치:                                                        │
│  "유사 사례 분석 결과, 스텐실 세정 상태를 우선 점검하시기 바랍니다.       │
│   최근 세정일: 7일 전 (권장 주기: 5일)"                                   │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

**UI 화면**:
1. **품질관리 > 유사 사례 검색** - 벡터 검색 기반 유사 사례 조회
2. **품질관리 > 사례 상세** - 과거 조치 이력, 효과 확인
3. **지식베이스 > 문서 관리** - 매뉴얼, SOP 업로드 및 검색

---

### 시나리오 5: 설비 이상 예측 → 자동 보전 요청

> **목적**: OEE 이상 감지 → Workflow 자동 실행 → PM 생성

```
[MES 설비 모니터링]          [AI 플랫폼]              [ERP/MES 연동]
     │                           │                        │
     │ ① OEE 데이터 수집         │                        │
     │ (실시간)                  │                        │
     ├─────────────────────────>│                        │
     │                           │                        │
     │                           │ ② Judgment 실행        │
     │                           │ • OEE: 72% (목표: 85%) │
     │                           │ • 다운타임 패턴 분석    │
     │                           │                        │
     │                           │ ③ Workflow 트리거      │
     │                           │ (equipment_health_wf)  │
     │                           │                        │
     │                           │        ④ 노드 실행     │
     │                           │────────────────────────>│
     │                           │                        │
     │                           │    • ERP: PM 티켓 생성 │
     │                           │    • MES: 설비 상태 변경│
     │                           │    • Slack: 알림 발송  │
     │                           │                        │
     │ ⑤ 결과 표시              │                        │
     │<──────────────────────────│                        │
     │ • PM 티켓: PM-2024-0715   │                        │
     │ • 예상 원인: 피더 알람    │                        │
     │ • 권고 조치: 피더 점검    │                        │
```

**UI 화면**:
1. **MES > 설비관리 > 설비현황** - OEE 실시간 모니터링
2. **MES > 설비관리 > 보전요청** - 자동 생성된 PM 티켓 확인
3. **ERP > 구매관리 > 예비부품** - 필요 부품 자동 발주 연계

---

### 시나리오 6: 데이터 커넥터 관리 및 Drift 감지

> **목적**: 외부 시스템 연동 및 스키마 변경 자동 감지

```
┌─────────────────────────────────────────────────────────────────────────┐
│                       데이터 커넥터 관리                                  │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  [커넥터 목록]                                                           │
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │ 이름              유형        상태       마지막 동기화   헬스체크     ││
│  │─────────────────────────────────────────────────────────────────── ││
│  │ 📦 ERP-Production PostgreSQL  ● 정상    5분 전         ✅ OK        ││
│  │ 🏭 MES-Main       MySQL       ● 정상    2분 전         ✅ OK        ││
│  │ 📊 센서-MQTT      MQTT        ● 정상    실시간         ✅ OK        ││
│  │ 📝 품질기준-Excel MCP         ⚠️ 경고   1시간 전       ⚠️ Drift     ││
│  │ 🔔 Slack-알림     MCP         ● 정상    -              ✅ OK        ││
│  └────────────────────────────────────────────────────────────────────┘│
│                                                                         │
│  [Drift 감지 알림]                                                       │
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │ ⚠️ 품질기준-Excel 스키마 변경 감지                                   ││
│  │                                                                    ││
│  │ 변경 내용:                                                          ││
│  │ • 컬럼 추가: "tolerance_max" (FLOAT)                                ││
│  │ • 컬럼 삭제: "old_spec" (VARCHAR)                                   ││
│  │                                                                    ││
│  │ 영향 받는 워크플로우:                                                ││
│  │ • defect_rule_pack (품질 판단)                                      ││
│  │ • incoming_inspection_wf (수입 검사)                                ││
│  │                                                                    ││
│  │ [스키마 승인] [롤백 요청] [무시]                                     ││
│  └────────────────────────────────────────────────────────────────────┘│
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

**UI 화면**:
1. **관리 > 데이터 커넥터** - 연결 상태, 헬스체크, CRUD
2. **관리 > Drift 감지** - 스키마 변경 이력, 승인/롤백
3. **관리 > MCP 서버** - MCP 도구 목록, 테스트 실행

---

### 시나리오 7: Rule 관리 및 Canary 배포

> **목적**: Rule 버전 관리, 안전한 배포, 롤백

```
┌─────────────────────────────────────────────────────────────────────────┐
│                       Rule 관리 및 배포                                   │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  [Rule 버전 목록 - defect_rule_pack]                                     │
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │ 버전     상태      정확도   생성일        트래픽   설명              ││
│  │─────────────────────────────────────────────────────────────────── ││
│  │ v1.4.0   Canary    92%     2024-07-15   10%     Auto-Rule 추출     ││
│  │ v1.3.2   Active    88%     2024-07-10   90%     수동 수정          ││
│  │ v1.3.1   Archived  85%     2024-07-05   0%      초기 버전          ││
│  └────────────────────────────────────────────────────────────────────┘│
│                                                                         │
│  [Canary 배포 모니터링 - v1.4.0]                                         │
│  ┌────────────────────────────────────────────────────────────────────┐│
│  │                                                                    ││
│  │  상태: 🟢 Healthy                                                   ││
│  │  진행: ████████░░░░░░░░░░░░ 40% (24/60분)                          ││
│  │                                                                    ││
│  │  메트릭 (v1.4.0 vs v1.3.2):                                         ││
│  │  ┌───────────────────────────────────────────────────────────┐    ││
│  │  │ 지표          v1.4.0    v1.3.2    기준       상태          │    ││
│  │  │───────────────────────────────────────────────────────────│    ││
│  │  │ 에러율        0.3%      0.5%      < 1%       ✅ Pass       │    ││
│  │  │ 정확도        92%       88%       > 85%      ✅ Pass       │    ││
│  │  │ 응답시간 P95  120ms     115ms     < 200ms    ✅ Pass       │    ││
│  │  └───────────────────────────────────────────────────────────┘    ││
│  │                                                                    ││
│  │  [100% 배포] [롤백] [일시정지]                                       ││
│  │                                                                    ││
│  └────────────────────────────────────────────────────────────────────┘│
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

**UI 화면**:
1. **AI 관리 > Rule 관리** - Rule 버전 목록, 코드 뷰어
2. **AI 관리 > 배포 관리** - Canary 현황, 메트릭 대시보드
3. **AI 관리 > 배포 이력** - 과거 배포/롤백 이력

---

## 3. UI 화면 종합 목록

### 3.1 ERP 모듈 (16개 화면)

| 모듈 | 화면 | 기능 | AI 연계 |
|------|------|------|--------|
| **판매관리** | 수주등록 | 수주 생성/수정 | 납기 Risk 판단 |
| | 수주조회 | 수주 목록 검색 | - |
| | 수주현황 | 진행 상태 | 지연 경고 |
| | 출하등록 | 출하 처리 | - |
| **구매관리** | 발주등록 | 발주 생성/수정 | AI 자동 발주 |
| | 발주조회 | 발주 목록 | - |
| | 입고등록 | 입고 처리 | 품질 검사 연계 |
| | 공급업체관리 | 공급업체 마스터 | 평가 표시 |
| **재고관리** | 재고현황 | 품목별 재고 | 부족 경고 |
| | 재고이동 | 창고간 이동 | - |
| | 자재마스터 | 자재 정보 관리 | - |
| **생산관리** | BOM조회 | BOM 구조 조회 | - |
| | 작업지시등록 | 생산지시 생성 | 우선순위 AI |
| | 작업지시조회 | 생산지시 목록 | - |
| **품질관리** | 수입검사 | 입고 품질 검사 | 합격률 분석 |
| | 시정조치 | CAR 관리 | AI 조치 권고 |

### 3.2 MES 모듈 (14개 화면)

| 모듈 | 화면 | 기능 | AI 연계 |
|------|------|------|--------|
| **생산실행** | 작업현황 | 라인별 실시간 | 모니터링 |
| | 실적등록 | 생산 실적 입력 | **Judgment 트리거** |
| | 실적조회 | 실적 내역 조회 | - |
| | Lot추적 | 로트 이력 조회 | 추적성 |
| **설비관리** | 설비현황 | OEE 모니터링 | **OEE 이상 감지** |
| | 설비마스터 | 설비 정보 관리 | - |
| | 가동현황 | 가동률 분석 | 가동률 경고 |
| | 보전요청 | PM 요청 관리 | AI 자동 생성 |
| **품질관리** | 불량등록 | 불량 데이터 입력 | **핵심 트리거** |
| | 불량조회 | 불량 이력 조회 | 패턴 분석 |
| | SPC차트 | 관리도 조회 | 이상 패턴 |
| | 유사사례검색 | RAG 검색 | **벡터 검색** |
| **자재관리** | 자재투입 | 라인 자재 투입 | 재고 소진 예측 |
| | 피더현황 | SMT 피더 상태 | - |

### 3.3 AI 플랫폼 모듈 (12개 화면)

| 모듈 | 화면 | 기능 | 핵심 가치 |
|------|------|------|----------|
| **AI 어시스턴트** | Chat 인터페이스 | 자연어 명령/질의 | **BI + 명령** |
| **BI** | BI 카탈로그 | 메트릭/차원 조회 | 자연어 BI |
| | 대시보드 빌더 | 차트 배치/저장 | 자동 생성 |
| **워크플로우** | 자동 설계 | 자연어 → WF 생성 | **WF 자동화** |
| | 편집기 | 노드 편집 (D&D) | 수동 편집 |
| | 관리 | WF 목록/이력 | - |
| **학습/배포** | 학습 현황 | 샘플 축적 현황 | **피드백 학습** |
| | Rule 관리 | Rule 버전 관리 | Rule 자동 추출 |
| | 배포 관리 | Canary 모니터링 | **안전 배포** |
| **알림/조치** | 알림센터 | AI 판단 결과 | 👍👎 피드백 |
| | 조치관리 | 권고 조치 목록 | WF 결과 |
| | 판단이력 | Judgment 로그 | Replay |

### 3.4 관리 모듈 (8개 화면)

| 모듈 | 화면 | 기능 |
|------|------|------|
| **데이터** | 데이터 커넥터 | 연결 상태/CRUD |
| | Drift 감지 | 스키마 변경 이력 |
| | ETL 현황 | 파이프라인 모니터링 |
| | 데이터 품질 | 품질 검사 결과 |
| **시스템** | MCP 서버 | MCP 도구 관리 |
| | 사용자 관리 | 사용자/권한 |
| | 감사 로그 | 활동 이력 |
| | 시스템 설정 | 전역 설정 |

---

## 4. 화면 우선순위

### Phase 1: MVP (핵심 시나리오 시연)

**목표**: AI 판단 → 피드백 → 학습 사이클 시연

1. **MES > 불량등록** - Judgment 트리거
2. **알림센터** - 판단 결과 + 👍👎
3. **AI 어시스턴트** - Chat BI
4. **학습 현황** - 샘플/Rule 상태
5. **설비현황** - OEE 모니터링
6. **종합 대시보드** - KPI 요약

### Phase 2: 워크플로우 & 배포

7. **워크플로우 자동 설계**
8. **워크플로우 편집기**
9. **배포 관리** (Canary)
10. **Rule 관리**

### Phase 3: ERP 통합

11. **수주등록/조회**
12. **작업지시등록/조회**
13. **발주등록/조회**
14. **재고현황**

### Phase 4: 고급 기능

15. **유사 사례 검색** (RAG)
16. **데이터 커넥터**
17. **Drift 감지**
18. **나머지 화면**

---

## 5. 데이터 흐름 정리

### 5.1 ERP/MES → AI 플랫폼

```
[ERP/MES 이벤트]           [AI 플랫폼]
─────────────────────────────────────────────
불량 등록 ──────────────> Judgment 실행
OEE 변동 ──────────────> Workflow 트리거
재고 변동 ─────────────> 재고 예측 Judgment
수주 등록 ─────────────> 납기 Risk 분석
```

### 5.2 AI 플랫폼 → ERP/MES

```
[AI 플랫폼]                [ERP/MES 액션]
─────────────────────────────────────────────
PM 요청 생성 ─────────────> MES 보전요청
발주 요청 ────────────────> ERP 발주등록
라인정지 권고 ────────────> MES 설비상태 변경
알림 발송 ────────────────> Slack/Email
```

---

## 6. 기술 스택

### Frontend

```
React 18 + TypeScript
├── 상태관리: TanStack Query + Zustand
├── UI: Tailwind CSS + shadcn/ui
├── 차트: Recharts + react-chartjs-2
├── 테이블: TanStack Table
├── 폼: React Hook Form + Zod
├── 라우터: React Router v6
├── 워크플로우: React Flow
└── 실시간: Socket.IO
```

### API 연동

```
├── REST API: ERP/MES CRUD, AI 서비스 호출
├── WebSocket: 실시간 모니터링, 알림
├── SSE: Judgment 결과 스트리밍
└── GraphQL: BI 쿼리 (선택적)
```

---

## 7. 다음 단계

1. **Phase 1 화면 와이어프레임 설계**
2. **공통 컴포넌트 개발** (DataTable, Form, Modal, Chat)
3. **Mock API 설계**
4. **Phase 1 화면 구현**
5. **AI 플랫폼 API 연동 테스트**

# MES 현장관리(POP) 모듈 기능정의서

## 모듈 개요

| 항목 | 내용 |
|------|------|
| **모듈ID** | MES-POP |
| **모듈명** | 현장관리 (POP: Point of Production) |
| **화면수** | 12개 |
| **목적** | 현장 작업자용 터치스크린 인터페이스로 실시간 생산 데이터 입력/조회 |
| **특징** | 간결한 UI, 큰 버튼, 터치 최적화, 바코드/QR 스캔 지원 |

---

## 화면 목록

| No | 화면ID | 화면명 | 개발우선순위 |
|----|--------|--------|-------------|
| 1 | MES-POP-001 | 작업시작 | P1 |
| 2 | MES-POP-002 | 작업종료 | P1 |
| 3 | MES-POP-003 | 시작정보저장 | P1 |
| 4 | MES-POP-004 | 시작정보조회 | P2 |
| 5 | MES-POP-005 | 작업지시목록 | P1 |
| 6 | MES-POP-006 | 작업지시상세 | P1 |
| 7 | MES-POP-007 | 실적등록 | P1 |
| 8 | MES-POP-008 | 자주검사등록 | P1 |
| 9 | MES-POP-009 | 공정진행조회 | P2 |
| 10 | MES-POP-010 | 원자재정보 | P2 |
| 11 | MES-POP-011 | 비가동등록 | P1 |
| 12 | MES-POP-012 | 설비선택 | P2 |

---

## UI/UX 설계 원칙

### POP 화면 공통 특성
- **해상도**: 1920x1080 (21" 터치스크린 기준)
- **버튼 크기**: 최소 80x60px (터치 용이성)
- **폰트 크기**: 최소 18px (가독성)
- **색상**: 고대비 (상태별 명확한 구분)
- **입력방식**: 터치 + 바코드스캔 + 숫자패드

### 공통 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ [헤더] 로고 │ 현재 라인: SMT-L01 │ 작업자: 홍길동 │ 14:35:22 │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│                      [메인 컨텐츠 영역]                       │
│                                                             │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [푸터 메뉴]                                                  │
│ [작업시작] [실적등록] [불량등록] [비가동] [검사] [조회]         │
└─────────────────────────────────────────────────────────────┘
```

---

## 화면별 상세 기능정의

### MES-POP-001 작업시작

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-POP-001 |
| **화면명** | 작업시작 |
| **화면유형** | 입력 (터치) |
| **접근권한** | 작업자 |

#### 기능설명
작업지시에 대한 작업을 시작한다. 작업 시작 시 LOT 번호가 자동 생성된다.

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ 🏭 작업 시작                             SMT-L01 │ 홍길동    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 작업지시 선택                                        │   │
│  │ ┌─────────────────────────────────────────────────┐ │   │
│  │ │ [바코드 스캔] 📷 또는 목록에서 선택               │ │   │
│  │ └─────────────────────────────────────────────────┘ │   │
│  │                                                     │   │
│  │ ┌───────────────────────────────────────────────┐   │   │
│  │ │ ● WO-20250129-001  메인보드A  500EA  대기     │   │   │
│  │ │ ○ WO-20250129-002  메인보드B  300EA  대기     │   │   │
│  │ │ ○ WO-20250129-003  전원보드A  200EA  대기     │   │   │
│  │ └───────────────────────────────────────────────┘   │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 선택된 작업                                          │   │
│  │ ─────────────────────────────────────────────────── │   │
│  │ 작업지시: WO-20250129-001                           │   │
│  │ 품    목: GB-MB-001 (스마트폰 메인보드 A)           │   │
│  │ 지시수량: 500 EA                                    │   │
│  │ 납    기: 2025-01-30                               │   │
│  │ 생성LOT: L250129001 (자동생성)                      │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │                                                       │ │
│  │        [ 🚀 작업 시작 ]                              │ │
│  │                                                       │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [작업시작] [실적등록] [불량등록] [비가동] [검사] [조회]         │
└─────────────────────────────────────────────────────────────┘
```

#### 기능 로직
1. 바코드 스캔 또는 목록에서 작업지시 선택
2. 선택 시 상세정보 표시 및 LOT 번호 미리보기 (L + YYMMDD + SEQ)
3. [작업 시작] 클릭 시:
   - 작업지시 상태 → '작업중'
   - LOT 번호 확정 생성
   - 시작시간 기록
   - 작업시작 이벤트 로그 저장

---

### MES-POP-002 작업종료

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-POP-002 |
| **화면명** | 작업종료 |
| **화면유형** | 입력 (터치) |
| **접근권한** | 작업자 |

#### 기능설명
진행 중인 작업을 종료한다.

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ 🏭 작업 종료                             SMT-L01 │ 홍길동    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 현재 진행중인 작업                                    │   │
│  │ ─────────────────────────────────────────────────── │   │
│  │ 작업지시: WO-20250129-001                           │   │
│  │ LOT번호: L250129001                                 │   │
│  │ 품    목: GB-MB-001 (스마트폰 메인보드 A)           │   │
│  │ 지시수량: 500 EA                                    │   │
│  │ 시작시간: 09:00:15                                  │   │
│  │ 경과시간: 5시간 35분                                 │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 생산 실적 현황                                       │   │
│  │ ─────────────────────────────────────────────────── │   │
│  │                                                     │   │
│  │   ┌─────────┐   ┌─────────┐   ┌─────────┐         │   │
│  │   │ 양품     │   │ 불량     │   │ 진행률   │         │   │
│  │   │  480    │   │   12    │   │  98.4%  │         │   │
│  │   └─────────┘   └─────────┘   └─────────┘         │   │
│  │                                                     │   │
│  │   불량률: 2.4% (임계치 2.5% 이내 ✅)                 │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │                                                       │ │
│  │        [ 🛑 작업 종료 ]                              │ │
│  │                                                       │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [작업시작] [실적등록] [불량등록] [비가동] [검사] [조회]         │
└─────────────────────────────────────────────────────────────┘
```

#### 기능 로직
1. 현재 진행 중인 작업 정보 표시
2. 실시간 실적 현황 표시
3. [작업 종료] 클릭 시:
   - 미등록 실적 확인 경고
   - 작업지시 상태 → '완료'
   - 종료시간 기록
   - 최종 실적 집계

---

### MES-POP-005 작업지시목록

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-POP-005 |
| **화면명** | 작업지시목록 |
| **화면유형** | 조회 |
| **접근권한** | 작업자 |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ 📋 작업지시 목록                         SMT-L01 │ 홍길동    │
├─────────────────────────────────────────────────────────────┤
│ 조회일자: [2025-01-29▼]  상태: [전체▼]  [검색]              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🟢 작업중                                            │   │
│  │ ─────────────────────────────────────────────────── │   │
│  │ WO-20250129-001 │ 메인보드A │ 500EA │ 98% │ 09:00~   │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 🔵 대기                                              │   │
│  │ ─────────────────────────────────────────────────── │   │
│  │ WO-20250129-002 │ 메인보드B │ 300EA │ 0%  │ 예정15:00│   │
│  │ WO-20250129-003 │ 전원보드A │ 200EA │ 0%  │ 예정17:00│   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ ⚫ 완료                                              │   │
│  │ ─────────────────────────────────────────────────── │   │
│  │ (금일 완료 작업 없음)                                 │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [작업시작] [실적등록] [불량등록] [비가동] [검사] [조회]         │
└─────────────────────────────────────────────────────────────┘
```

---

### MES-POP-007 실적등록

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-POP-007 |
| **화면명** | 실적등록 |
| **화면유형** | 입력 (터치 + 숫자패드) |
| **접근권한** | 작업자 |

#### 기능설명
생산 실적(양품/불량)을 등록한다.

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ 📝 실적 등록                             SMT-L01 │ 홍길동    │
├─────────────────────────────────────────────────────────────┤
│ 현재 작업: WO-20250129-001 │ 메인보드A │ LOT: L250129001   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌───────────────────┐  ┌───────────────────┐              │
│  │     양품 수량      │  │     불량 수량      │              │
│  │  ┌─────────────┐  │  │  ┌─────────────┐  │              │
│  │  │     100     │  │  │  │      3      │  │              │
│  │  └─────────────┘  │  │  └─────────────┘  │              │
│  │  [+10][+50][+100] │  │  [+1] [+5] [+10]  │              │
│  └───────────────────┘  └───────────────────┘              │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 숫자 패드                                            │   │
│  │ ┌─────┐ ┌─────┐ ┌─────┐                            │   │
│  │ │  7  │ │  8  │ │  9  │                            │   │
│  │ ├─────┤ ├─────┤ ├─────┤                            │   │
│  │ │  4  │ │  5  │ │  6  │                            │   │
│  │ ├─────┤ ├─────┤ ├─────┤                            │   │
│  │ │  1  │ │  2  │ │  3  │                            │   │
│  │ ├─────┤ ├─────┤ ├─────┤                            │   │
│  │ │  C  │ │  0  │ │ ←  │                            │   │
│  │ └─────┘ └─────┘ └─────┘                            │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │ 누적 실적: 양품 480 │ 불량 12 │ 계 492 │ 진행률 98.4%  │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │                [ ✅ 등록 ]     [ ↩️ 취소 ]             │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [작업시작] [실적등록] [불량등록] [비가동] [검사] [조회]         │
└─────────────────────────────────────────────────────────────┘
```

#### 기능 로직
1. 현재 진행 중인 작업 자동 선택
2. 양품/불량 수량 입력 (숫자패드 또는 빠른입력 버튼)
3. [등록] 클릭 시:
   - 실적 데이터 저장
   - 누적 실적 갱신
   - 불량 있으면 불량등록 화면으로 유도

---

### MES-POP-008 자주검사등록

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-POP-008 |
| **화면명** | 자주검사등록 |
| **화면유형** | 입력 (체크리스트) |
| **접근권한** | 작업자 |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ 🔍 자주검사 등록                         SMT-L01 │ 홍길동    │
├─────────────────────────────────────────────────────────────┤
│ 작업: WO-20250129-001 │ LOT: L250129001 │ 검사시간: 14:30  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 검사 항목                          판정              │   │
│  │ ─────────────────────────────────────────────────── │   │
│  │                                                     │   │
│  │ 1. 외관 검사 (이상 유무)                             │   │
│  │    ┌──────────────┐  ┌──────────────┐              │   │
│  │    │   ✅ 양호    │  │   ❌ 불량    │              │   │
│  │    └──────────────┘  └──────────────┘              │   │
│  │                                                     │   │
│  │ 2. 납땜 상태 (광택, 형상)                            │   │
│  │    ┌──────────────┐  ┌──────────────┐              │   │
│  │    │   ✅ 양호    │  │   ❌ 불량    │              │   │
│  │    └──────────────┘  └──────────────┘              │   │
│  │                                                     │   │
│  │ 3. 부품 실장 (위치, 방향)                            │   │
│  │    ┌──────────────┐  ┌──────────────┐              │   │
│  │    │   ✅ 양호    │  │   ❌ 불량    │              │   │
│  │    └──────────────┘  └──────────────┘              │   │
│  │                                                     │   │
│  │ 4. 인쇄 상태 (선명도)                                │   │
│  │    ┌──────────────┐  ┌──────────────┐              │   │
│  │    │   ✅ 양호    │  │   ❌ 불량    │              │   │
│  │    └──────────────┘  └──────────────┘              │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  비고: [                                              ]     │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │                [ ✅ 등록 ]     [ ↩️ 취소 ]             │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [작업시작] [실적등록] [불량등록] [비가동] [검사] [조회]         │
└─────────────────────────────────────────────────────────────┘
```

---

### MES-POP-011 비가동등록

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-POP-011 |
| **화면명** | 비가동등록 |
| **화면유형** | 입력 |
| **접근권한** | 작업자 |

#### 기능설명
설비 비가동 사유를 등록한다.

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ ⏸️ 비가동 등록                           SMT-L01 │ 홍길동    │
├─────────────────────────────────────────────────────────────┤
│ 작업: WO-20250129-001 │ 설비: SMT-CHIP-01                  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 비가동 유형 선택                                      │   │
│  │ ─────────────────────────────────────────────────── │   │
│  │                                                     │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐ │   │
│  │  │ 🔧 설비고장  │  │ 📦 자재대기  │  │ 🔄 모델변경  │ │   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘ │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐ │   │
│  │  │ ⚠️ 품질이상  │  │ 👤 작업자부재│  │ ☕ 휴식시간  │ │   │
│  │  └─────────────┘  └─────────────┘  └─────────────┘ │   │
│  │  ┌─────────────┐  ┌─────────────┐                  │   │
│  │  │ 🛠️ 정기점검  │  │ 📝 기타     │                  │   │
│  │  └─────────────┘  └─────────────┘                  │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 선택: 🔧 설비고장                                    │   │
│  │ 상세사유: [피더 5번 흡착 불량 - 노즐 점검 필요      ] │   │
│  │ 시작시간: [14:25] (현재시간 자동입력)                │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │         [ ⏸️ 비가동 시작 ]     [ ↩️ 취소 ]            │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  ─────────────────────────────────────────────────────────  │
│  현재 진행중인 비가동:                                       │
│  ⏱️ 14:25 ~ (진행중) │ 설비고장 │ 15분 경과 │ [▶️ 복구]     │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [작업시작] [실적등록] [불량등록] [비가동] [검사] [조회]         │
└─────────────────────────────────────────────────────────────┘
```

#### 비가동 유형 코드
| 아이콘 | 코드 | 유형명 | 분류 |
|--------|------|--------|------|
| 🔧 | DT04 | 설비고장 | 비계획 |
| 📦 | DT05 | 자재대기 | 비계획 |
| 🔄 | DT02 | 모델변경 | 계획 |
| ⚠️ | DT06 | 품질이상 | 비계획 |
| 👤 | DT07 | 작업자부재 | 비계획 |
| ☕ | DT03 | 휴식시간 | 계획 |
| 🛠️ | DT01 | 정기점검 | 계획 |
| 📝 | DT99 | 기타 | - |

---

### MES-POP-009 공정진행조회

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-POP-009 |
| **화면명** | 공정진행조회 |
| **화면유형** | 조회 |
| **접근권한** | 작업자 |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ 🔄 공정 진행 현황                        SMT-L01 │ 홍길동    │
├─────────────────────────────────────────────────────────────┤
│ 작업: WO-20250129-001 │ LOT: L250129001 │ 품목: 메인보드A  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 공정 진행 상태                                       │   │
│  │                                                     │   │
│  │  ✅ LOAD    ✅ PRINT   ✅ SPI     🔄 CHIP1          │   │
│  │  09:00     09:05     09:10     09:15~              │   │
│  │    ↓          ↓         ↓         ↓                │   │
│  │                                                     │   │
│  │  ⬜ CHIP2   ⬜ REFLOW  ⬜ AOI     ⬜ UNLOAD         │   │
│  │  대기       대기       대기       대기              │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 현재 공정: CHIP1 (칩마운트)                          │   │
│  │ ─────────────────────────────────────────────────── │   │
│  │ 투입: 500 EA    완료: 485 EA    진행률: 97%         │   │
│  │ 설비: SMT-CHIP-01                                   │   │
│  │ 작업자: 홍길동                                       │   │
│  │ 예상완료: 14:45                                      │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [작업시작] [실적등록] [불량등록] [비가동] [검사] [조회]         │
└─────────────────────────────────────────────────────────────┘
```

---

### MES-POP-010 원자재정보

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-POP-010 |
| **화면명** | 원자재정보 |
| **화면유형** | 조회 |
| **접근권한** | 작업자 |

#### 기능설명
현재 작업에 투입된 원자재 LOT 정보를 조회한다.

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ 📦 원자재 정보                           SMT-L01 │ 홍길동    │
├─────────────────────────────────────────────────────────────┤
│ 작업: WO-20250129-001 │ LOT: L250129001                    │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 투입 자재 목록                                       │   │
│  │ ─────────────────────────────────────────────────── │   │
│  │                                                     │   │
│  │ 📋 PCB 기판 (M-PCB-001)                             │   │
│  │    LOT: LP250125001  │  수량: 500 EA  │  공급: A사   │   │
│  │                                                     │   │
│  │ 📋 메인IC (M-IC-001)                                │   │
│  │    LOT: LI250120001  │  수량: 500 EA  │  공급: B사   │   │
│  │                                                     │   │
│  │ 📋 콘덴서 0.1uF (M-CAP-001)                         │   │
│  │    LOT: LC250118001  │  수량: 2,500 EA │ 공급: C사   │   │
│  │                                                     │   │
│  │ 📋 저항 10K (M-RES-001)                             │   │
│  │    LOT: LR250115001  │  수량: 3,000 EA │ 공급: C사   │   │
│  │                                                     │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ [바코드 스캔으로 자재 추가 투입]  📷                  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [작업시작] [실적등록] [불량등록] [비가동] [검사] [조회]         │
└─────────────────────────────────────────────────────────────┘
```

---

## 테이블 설계

### 주요 테이블 (추가)
| 테이블명 | 설명 |
|----------|------|
| mes_pop_login | POP 로그인 이력 |
| mes_pop_event | POP 이벤트 로그 |

---

## API 엔드포인트

| Method | Endpoint | 설명 |
|--------|----------|------|
| POST | /api/mes/pop/login | POP 로그인 |
| GET | /api/mes/pop/work-orders | 작업지시 목록 (라인별) |
| POST | /api/mes/pop/work-start | 작업 시작 |
| POST | /api/mes/pop/work-end | 작업 종료 |
| POST | /api/mes/pop/results | 실적 등록 |
| POST | /api/mes/pop/self-inspection | 자주검사 등록 |
| POST | /api/mes/pop/downtime/start | 비가동 시작 |
| POST | /api/mes/pop/downtime/end | 비가동 종료 |
| GET | /api/mes/pop/process-status | 공정진행 현황 |
| GET | /api/mes/pop/materials | 투입자재 조회 |

---

*문서버전: 1.0*
*작성일: 2025-01-29*

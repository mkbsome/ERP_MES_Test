# MES 생산관리 모듈 기능정의서

## 모듈 개요

| 항목 | 내용 |
|------|------|
| **모듈ID** | MES-PRD |
| **모듈명** | 생산관리 |
| **화면수** | 14개 |
| **목적** | 생산계획, 작업지시, 생산실적 관리 |

---

## 화면 목록

| No | 화면ID | 화면명 | 개발우선순위 |
|----|--------|--------|-------------|
| 1 | MES-PRD-001 | 월간생산계획 | P2 |
| 2 | MES-PRD-002 | 주간생산계획 | P2 |
| 3 | MES-PRD-003 | 일일생산계획 | P2 |
| 4 | MES-PRD-004 | 생산지시관리 | P1 |
| 5 | MES-PRD-005 | 작업지시관리 | P1 |
| 6 | MES-PRD-006 | 작업지시현황 | P1 |
| 7 | MES-PRD-007 | 작업실적등록 | P1 |
| 8 | MES-PRD-008 | 작업실적조회 | P1 |
| 9 | MES-PRD-009 | 작업실적상세현황 | P2 |
| 10 | MES-PRD-010 | 일일생산현황 | P1 |
| 11 | MES-PRD-011 | 라인별가동현황 | P2 |
| 12 | MES-PRD-012 | 종합가동현황 | P2 |
| 13 | MES-PRD-013 | 비가동내역 | P2 |
| 14 | MES-PRD-014 | LOT추적관리 | P1 |

---

## 화면별 상세 기능정의

### MES-PRD-001 월간생산계획

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-001 |
| **화면명** | 월간생산계획 |
| **화면유형** | 조회/입력 (캘린더형) |
| **접근권한** | 생산관리자, 생산계획담당 |

#### 기능설명
월 단위 생산계획을 수립하고 조회한다. ERP MPS와 연동하여 계획을 수립한다.

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 계획년월 | plan_ym | VARCHAR(6) | Y | YYYYMM |
| 공장코드 | plant_code | VARCHAR(10) | Y | |
| 라인코드 | line_code | VARCHAR(20) | Y | |
| 품목코드 | item_code | VARCHAR(30) | Y | |
| 계획수량 | plan_qty | INT | Y | |
| 확정여부 | is_confirmed | BOOLEAN | Y | |
| ERP계획번호 | erp_plan_no | VARCHAR(30) | N | MPS 연계 |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ [검색조건]                                                   │
│ 계획년월: [2025년 01월▼] 공장: [전체▼] 라인: [전체▼]         │
│ [검색] [ERP동기화]                                           │
├─────────────────────────────────────────────────────────────┤
│ [월간 계획 캘린더/그리드]                                     │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ 품목코드 │ 품목명 │ 라인 │ 1일 │ 2일 │ ... │ 31일 │ 합계 │ │
│ ├─────────┼───────┼─────┼────┼────┼─────┼─────┼─────┤ │
│ │GB-MB-001│메인보드A│SMT-L01│100│120│ ... │ 80 │3,000│ │
│ │GB-MB-002│메인보드B│SMT-L02│200│200│ ... │180 │5,800│ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                             │
│ [저장] [계획확정]                                            │
└─────────────────────────────────────────────────────────────┘
```

---

### MES-PRD-002 주간생산계획

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-002 |
| **화면명** | 주간생산계획 |
| **화면유형** | 조회/입력 |
| **접근권한** | 생산관리자, 생산계획담당 |

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 계획주차 | plan_week | VARCHAR(8) | Y | YYYY-Wnn |
| 시작일 | start_date | DATE | Y | |
| 종료일 | end_date | DATE | Y | |
| 공장코드 | plant_code | VARCHAR(10) | Y | |
| 라인코드 | line_code | VARCHAR(20) | Y | |
| 품목코드 | item_code | VARCHAR(30) | Y | |
| 일별계획수량 | daily_plan_qty | JSON | Y | {mon:100,tue:100,...} |

---

### MES-PRD-003 일일생산계획

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-003 |
| **화면명** | 일일생산계획 |
| **화면유형** | 조회/입력 |
| **접근권한** | 생산관리자, 라인담당 |

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 계획일자 | plan_date | DATE | Y | |
| 공장코드 | plant_code | VARCHAR(10) | Y | |
| 라인코드 | line_code | VARCHAR(20) | Y | |
| 교대 | shift | VARCHAR(10) | Y | DAY/NIGHT |
| 품목코드 | item_code | VARCHAR(30) | Y | |
| 계획수량 | plan_qty | INT | Y | |
| 우선순위 | priority | INT | N | 1=최우선 |
| 비고 | remarks | VARCHAR(500) | N | |

---

### MES-PRD-004 생산지시관리

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-004 |
| **화면명** | 생산지시관리 |
| **화면유형** | CRUD + ERP연동 |
| **접근권한** | 생산관리자 |

#### 기능설명
ERP로부터 제조오더를 수신하여 MES 생산지시로 변환한다.

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 생산지시번호 | prod_order_no | VARCHAR(20) | Y | PK, 자동채번 |
| ERP제조오더 | erp_work_order | VARCHAR(30) | N | ERP 연계 |
| 지시일자 | order_date | DATE | Y | |
| 품목코드 | item_code | VARCHAR(30) | Y | |
| 지시수량 | order_qty | INT | Y | |
| 납기일자 | due_date | DATE | Y | |
| 우선순위 | priority | INT | Y | 1~10 |
| 상태 | status | VARCHAR(20) | Y | 대기/진행/완료/취소 |
| 고객사 | customer_code | VARCHAR(20) | N | |
| 비고 | remarks | VARCHAR(500) | N | |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ [검색조건]                                                   │
│ 지시일자: [____]~[____] 품목: [______] 상태: [전체▼]         │
│ [검색] [ERP수신]                                             │
├─────────────────────────────────────────────────────────────┤
│ [생산지시 목록]                                              │
│ 지시번호│품목코드│품목명│지시수량│납기│상태│우선순위│ERP연계  │
│ ───────┼───────┼─────┼──────┼───┼───┼──────┼───────       │
│ PO-0001│GB-MB-001│메인보드A│1000│01-30│대기│ 1 │ WO-001     │
├─────────────────────────────────────────────────────────────┤
│ [상세정보]                                                   │
│ 생산지시번호: [PO-0001    ]  상태: [대기▼]                    │
│ 품목코드: [GB-MB-001  ]  품목명: [스마트폰 메인보드 A     ]   │
│ 지시수량: [1,000     ]  납기일자: [2025-01-30]               │
│ 우선순위: [1 ▼]         고객사: [삼성전자▼]                   │
│                                                             │
│ [신규] [저장] [삭제] [작업지시배분]                           │
└─────────────────────────────────────────────────────────────┘
```

#### 비즈니스 로직
1. ERP수신: ERP 제조오더 조회 → 미수신건 목록 표시 → 선택 수신
2. 자동채번: PO-YYYYMMDD-NNN 형식
3. 작업지시배분: 선택한 생산지시를 라인별 작업지시로 분할

---

### MES-PRD-005 작업지시관리

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-005 |
| **화면명** | 작업지시관리 |
| **화면유형** | CRUD |
| **접근권한** | 생산관리자, 라인담당 |

#### 기능설명
생산지시를 라인별/교대별 작업지시로 분할하여 현장에 배포한다.

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 작업지시번호 | work_order_no | VARCHAR(20) | Y | PK |
| 생산지시번호 | prod_order_no | VARCHAR(20) | Y | FK |
| 작업일자 | work_date | DATE | Y | |
| 교대 | shift | VARCHAR(10) | Y | DAY/NIGHT |
| 라인코드 | line_code | VARCHAR(20) | Y | |
| 품목코드 | item_code | VARCHAR(30) | Y | |
| 지시수량 | order_qty | INT | Y | |
| 시작예정시간 | plan_start_time | TIMESTAMP | N | |
| 종료예정시간 | plan_end_time | TIMESTAMP | N | |
| 상태 | status | VARCHAR(20) | Y | 대기/작업중/완료/중단 |
| 작업자ID | worker_id | VARCHAR(20) | N | |
| LOT번호 | lot_no | VARCHAR(30) | N | 작업시작 시 생성 |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ [검색조건]                                                   │
│ 작업일자: [____]~[____] 라인: [전체▼] 교대: [전체▼]          │
│ 상태: [전체▼] [검색]                                         │
├───────────────────────┬─────────────────────────────────────┤
│ [작업지시 목록]        │ [LOT/실적 정보]                      │
│ 지시번호│라인│품목│수량│상태│  │ ┌─────────────────────┐    │
│ ───────┼───┼───┼───┼──┤  │ │ LOT번호: L250129001 │    │
│ WO-0001│L01│MB-A│500│대기│  │ │ 투입수량: 500       │    │
│ WO-0002│L01│MB-A│500│작업중│ │ │ 양품수량: 480       │    │
│ WO-0003│L02│MB-B│300│완료│  │ │ 불량수량: 12        │    │
│        │   │    │   │   │  │ │ 진행률: 96%         │    │
│        │   │    │   │   │  │ └─────────────────────┘    │
├───────────────────────┴─────────────────────────────────────┤
│ [신규] [저장] [삭제] [작업시작] [작업완료] [인쇄]             │
└─────────────────────────────────────────────────────────────┘
```

#### 비즈니스 로직
1. 작업시작 클릭 시:
   - LOT번호 자동생성 (L + YYMMDD + SEQ)
   - 상태 → '작업중'
   - 시작시간 기록
2. 작업완료 클릭 시:
   - 실적 집계 확인
   - 상태 → '완료'
   - 종료시간 기록

---

### MES-PRD-006 작업지시현황

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-006 |
| **화면명** | 작업지시현황 |
| **화면유형** | 조회/모니터링 |
| **접근권한** | 전체 |

#### 기능설명
작업지시 진행현황을 실시간으로 모니터링한다.

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ [검색조건]                                                   │
│ 작업일자: [2025-01-29] 공장: [평택▼] 라인: [전체▼]           │
├─────────────────────────────────────────────────────────────┤
│ [라인별 작업지시 현황 - 카드 뷰]                              │
│ ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐    │
│ │ SMT-L01   │ │ SMT-L02   │ │ SMT-L03   │ │ SMT-L04   │    │
│ │ ───────── │ │ ───────── │ │ ───────── │ │ ───────── │    │
│ │ 품목:MB-A │ │ 품목:MB-B │ │ 품목:PW-A │ │ 대기중    │    │
│ │ 진행:480/500│ │진행:200/300│ │진행:0/400│ │           │    │
│ │ [████░] 96%│ │ [███░░] 67%│ │ [░░░░░] 0%│ │          │    │
│ │ 상태:작업중│ │ 상태:작업중│ │ 상태:대기│ │ 상태:대기│    │
│ └───────────┘ └───────────┘ └───────────┘ └───────────┘    │
├─────────────────────────────────────────────────────────────┤
│ [상세 그리드]                                                │
│ 라인│지시번호│품목│계획│실적│불량│진행률│상태│시작시간│예상완료│
│ ───┼──────┼───┼───┼───┼───┼────┼───┼─────┼──────          │
│ L01│WO-001│MB-A│500│480│12│96%│작업중│09:00│14:30          │
└─────────────────────────────────────────────────────────────┘
```

#### 실시간 업데이트
- 10초 간격 자동 새로고침
- 상태 변경 시 색상 변경 (대기:회색, 작업중:파랑, 완료:녹색, 지연:빨강)

---

### MES-PRD-007 작업실적등록

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-007 |
| **화면명** | 작업실적등록 |
| **화면유형** | 입력 |
| **접근권한** | 생산관리자, 라인담당 |

#### 기능설명
작업지시에 대한 생산실적을 수동으로 등록한다. (POP에서 자동등록도 가능)

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 실적번호 | result_no | VARCHAR(20) | Y | PK, 자동 |
| 작업지시번호 | work_order_no | VARCHAR(20) | Y | FK |
| LOT번호 | lot_no | VARCHAR(30) | Y | |
| 실적일시 | result_time | TIMESTAMP | Y | |
| 양품수량 | good_qty | INT | Y | |
| 불량수량 | defect_qty | INT | Y | |
| 작업자ID | worker_id | VARCHAR(20) | Y | |
| 설비코드 | equipment_code | VARCHAR(20) | N | |
| 비고 | remarks | VARCHAR(500) | N | |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ [작업지시 선택]                                              │
│ 작업지시번호: [WO-20250129-001▼] 라인: SMT-L01               │
│ 품목: GB-MB-001 (메인보드A)  지시수량: 500                    │
├─────────────────────────────────────────────────────────────┤
│ [실적 입력]                                                  │
│ LOT번호: [L250129001    ]  실적일시: [2025-01-29 14:30]      │
│ 양품수량: [100         ]  불량수량: [3          ]            │
│ 작업자: [홍길동▼]          설비: [SMT-CHIP-01▼]              │
│ 비고: [________________________________]                     │
│                                                             │
│ [등록]                                                       │
├─────────────────────────────────────────────────────────────┤
│ [등록된 실적 목록]                                           │
│ 실적번호│LOT│시간│양품│불량│작업자│설비                       │
│ ───────┼──┼───┼───┼───┼────┼───                            │
│ R-001  │L01│14:30│100│ 3 │홍길동│CHIP-01                    │
│ R-002  │L01│15:00│100│ 2 │홍길동│CHIP-01                    │
│                                                             │
│ [합계] 양품: 480  불량: 12  계: 492  진행률: 98.4%            │
└─────────────────────────────────────────────────────────────┘
```

---

### MES-PRD-008 작업실적조회

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-008 |
| **화면명** | 작업실적조회 |
| **화면유형** | 조회/분석 |
| **접근권한** | 전체 |

#### 기능설명
생산실적을 다양한 조건으로 조회하고 분석한다.

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ [검색조건]                                                   │
│ 실적일자: [____]~[____] 공장: [전체▼] 라인: [전체▼]          │
│ 품목: [______] 작업자: [______] [검색] [엑셀다운로드]         │
├─────────────────────────────────────────────────────────────┤
│ [집계 정보]                                                  │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐           │
│ │ 총생산량 │ │ 양품수량 │ │ 불량수량 │ │ 불량률   │           │
│ │ 15,230  │ │ 14,892  │ │   338   │ │  2.2%   │           │
│ └─────────┘ └─────────┘ └─────────┘ └─────────┘           │
├─────────────────────────────────────────────────────────────┤
│ [실적 상세 그리드]                                           │
│ 일자│라인│품목│지시│양품│불량│불량률│작업시간│UPH│작업자      │
│ ───┼───┼───┼───┼───┼───┼────┼─────┼──┼────                │
│01-29│L01│MB-A│500│488│12│2.4%│8.5h│57│홍길동               │
│01-29│L02│MB-B│300│294│ 6│2.0%│6.2h│47│김철수               │
└─────────────────────────────────────────────────────────────┘
```

---

### MES-PRD-009 작업실적상세현황

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-009 |
| **화면명** | 작업실적상세현황 |
| **화면유형** | 상세조회 |
| **접근권한** | 전체 |

#### 기능설명
LOT별, 시간대별 상세 실적을 조회한다.

#### 데이터 항목 (시간대별 실적)
| 필드명 | 필드ID | 타입 | 설명 |
|--------|--------|------|------|
| 작업지시번호 | work_order_no | VARCHAR(20) | |
| LOT번호 | lot_no | VARCHAR(30) | |
| 시간대 | hour_slot | VARCHAR(5) | HH:00 |
| 양품수량 | good_qty | INT | |
| 불량수량 | defect_qty | INT | |
| 비가동시간 | downtime_min | INT | 분 |

---

### MES-PRD-010 일일생산현황

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-010 |
| **화면명** | 일일생산현황 |
| **화면유형** | 대시보드 |
| **접근권한** | 전체 |

#### 기능설명
금일 생산현황을 종합적으로 모니터링한다. **AI 연계 핵심 화면**

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ 📊 일일생산현황 - 2025-01-29 (수)                            │
│ 공장: [평택▼]  마지막 업데이트: 14:35:22  [새로고침]         │
├─────────────────────────────────────────────────────────────┤
│ [KPI 요약]                                                   │
│ ┌───────────┐┌───────────┐┌───────────┐┌───────────┐       │
│ │계획달성률  ││ 불량률    ││ 평균OEE   ││ 가동률    │       │
│ │   94.2%   ││   2.1%   ││   82.5%  ││   91.3%  │       │
│ │ ▲ +2.1%   ││ ▼ -0.3%  ││ ▲ +1.2%  ││ ▼ -0.5%  │       │
│ └───────────┘└───────────┘└───────────┘└───────────┘       │
├─────────────────────────────────────────────────────────────┤
│ [라인별 현황]                                                │
│ 라인   │ 계획 │ 실적 │ 달성률│불량률│ OEE │ 상태           │
│ ──────┼─────┼─────┼─────┼─────┼─────┼──────              │
│ SMT-L01│ 500 │ 488 │ 97.6%│ 2.4%│85.2%│ ✅ 정상          │
│ SMT-L02│ 300 │ 294 │ 98.0%│ 2.0%│83.1%│ ✅ 정상          │
│ SMT-L03│ 400 │ 320 │ 80.0%│ 4.5%│72.3%│ ⚠️ 불량률 주의   │
│ SMT-L04│ 350 │ 340 │ 97.1%│ 1.8%│86.5%│ ✅ 정상          │
├─────────────────────────────────────────────────────────────┤
│ [시간대별 생산 추이 차트]                                     │
│  ▲                                                          │
│  │    ╭─╮   ╭─╮                                            │
│  │   ╭╯ ╰╮ ╱  ╲   ╭─                                      │
│  │  ╱    ╰╯    ╰─╯                                         │
│  └────────────────────────────────────────────────→ 시간    │
│    08  09  10  11  12  13  14                               │
└─────────────────────────────────────────────────────────────┘
```

#### AI 연계 포인트
- 불량률 > 2.5%: AI 품질판단 트리거
- OEE < 75%: AI 설비판단 트리거
- 계획달성률 < 80%: 알림 발생

---

### MES-PRD-011 라인별가동현황

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-011 |
| **화면명** | 라인별가동현황 |
| **화면유형** | 모니터링 |
| **접근권한** | 전체 |

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 설명 |
|--------|--------|------|------|
| 일자 | work_date | DATE | |
| 라인코드 | line_code | VARCHAR(20) | |
| 계획가동시간 | plan_uptime | INT | 분 |
| 실제가동시간 | actual_uptime | INT | 분 |
| 비가동시간 | downtime | INT | 분 |
| 가동률 | utilization_rate | DECIMAL(5,2) | % |

---

### MES-PRD-012 종합가동현황

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-012 |
| **화면명** | 종합가동현황 |
| **화면유형** | 대시보드 |
| **접근권한** | 전체 |

#### 기능설명
공장 전체의 가동현황을 종합적으로 표시한다.

---

### MES-PRD-013 비가동내역

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-013 |
| **화면명** | 비가동내역 |
| **화면유형** | 조회/분석 |
| **접근권한** | 전체 |

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 비가동ID | downtime_id | VARCHAR(20) | Y | PK |
| 라인코드 | line_code | VARCHAR(20) | Y | |
| 설비코드 | equipment_code | VARCHAR(20) | N | |
| 시작시간 | start_time | TIMESTAMP | Y | |
| 종료시간 | end_time | TIMESTAMP | N | |
| 비가동시간 | duration_min | INT | N | 자동계산 |
| 비가동유형 | downtime_type | VARCHAR(20) | Y | 계획/비계획 |
| 비가동사유 | reason_code | VARCHAR(20) | Y | |
| 상세사유 | reason_detail | VARCHAR(500) | N | |

#### 비가동 사유 코드
| 코드 | 유형 | 사유 |
|------|------|------|
| DT01 | 계획 | 정기점검 |
| DT02 | 계획 | 모델변경 |
| DT03 | 계획 | 휴식시간 |
| DT04 | 비계획 | 설비고장 |
| DT05 | 비계획 | 자재대기 |
| DT06 | 비계획 | 품질이상 |
| DT07 | 비계획 | 작업자부재 |

---

### MES-PRD-014 LOT추적관리

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | MES-PRD-014 |
| **화면명** | LOT추적관리 |
| **화면유형** | 조회/추적 |
| **접근권한** | 전체 |

#### 기능설명
LOT의 정방향(원자재→제품) / 역방향(제품→원자재) 추적을 수행한다.

#### 데이터 항목 (LOT 마스터)
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| LOT번호 | lot_no | VARCHAR(30) | Y | PK |
| 품목코드 | item_code | VARCHAR(30) | Y | |
| 생성일시 | created_at | TIMESTAMP | Y | |
| 생산수량 | prod_qty | INT | Y | |
| 상태 | status | VARCHAR(20) | Y | 생산중/완료/출하 |
| 작업지시번호 | work_order_no | VARCHAR(20) | Y | |
| 라인코드 | line_code | VARCHAR(20) | Y | |

#### 데이터 항목 (LOT 이력)
| 필드명 | 필드ID | 타입 | 설명 |
|--------|--------|------|------|
| LOT번호 | lot_no | VARCHAR(30) | |
| 순번 | seq_no | INT | |
| 이벤트유형 | event_type | VARCHAR(20) | 투입/산출/이동/검사 |
| 이벤트시간 | event_time | TIMESTAMP | |
| 공정코드 | process_code | VARCHAR(20) | |
| 설비코드 | equipment_code | VARCHAR(20) | |
| 수량 | qty | INT | |
| 작업자ID | worker_id | VARCHAR(20) | |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ [추적 조건]                                                  │
│ 추적방향: ○ 정방향 ● 역방향                                  │
│ LOT번호: [L250129001    ] 또는 품목코드: [GB-MB-001]         │
│ [추적실행]                                                   │
├─────────────────────────────────────────────────────────────┤
│ [추적 결과 - 트리 뷰]                                        │
│                                                             │
│  📦 L250129001 (GB-MB-001 메인보드A) - 500EA                 │
│  ├─ 📋 투입자재                                              │
│  │  ├─ M-PCB-001 (PCB기판) LOT: LP250125001 - 500EA         │
│  │  ├─ M-IC-001 (메인IC) LOT: LI250120001 - 500EA           │
│  │  └─ M-CAP-001 (콘덴서) LOT: LC250118001 - 2,500EA        │
│  │                                                          │
│  ├─ 🔧 공정이력                                              │
│  │  ├─ 09:00 LOAD (PCB투입) - SMT-LOAD-01                   │
│  │  ├─ 09:05 PRINT (솔더인쇄) - SMT-PRNT-01                 │
│  │  ├─ 09:08 SPI (SPI검사) - SMT-SPI-01 ✅ Pass            │
│  │  ├─ 09:15 CHIP_MT (칩마운트) - SMT-CHIP-01               │
│  │  ├─ 09:45 REFLOW (리플로우) - SMT-REFL-01                │
│  │  └─ 10:00 AOI (AOI검사) - SMT-AOI-01 ⚠️ 12EA 불량       │
│  │                                                          │
│  └─ 📤 출하정보                                              │
│     └─ 출하번호: SH-20250130-001 (삼성전자)                  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 테이블 설계

### 주요 테이블 목록
| 테이블명 | 설명 |
|----------|------|
| mes_production_plan_monthly | 월간생산계획 |
| mes_production_plan_weekly | 주간생산계획 |
| mes_production_plan_daily | 일일생산계획 |
| mes_production_order | 생산지시 |
| mes_work_order | 작업지시 |
| mes_work_result | 작업실적 |
| mes_lot_master | LOT마스터 |
| mes_lot_history | LOT이력 |
| mes_downtime | 비가동내역 |

---

## API 엔드포인트

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | /api/mes/production-plans/monthly | 월간계획 조회 |
| GET | /api/mes/production-orders | 생산지시 목록 |
| POST | /api/mes/production-orders | 생산지시 등록 |
| POST | /api/mes/production-orders/sync-erp | ERP 동기화 |
| GET | /api/mes/work-orders | 작업지시 목록 |
| POST | /api/mes/work-orders | 작업지시 등록 |
| PUT | /api/mes/work-orders/{no}/start | 작업시작 |
| PUT | /api/mes/work-orders/{no}/complete | 작업완료 |
| GET | /api/mes/work-results | 작업실적 조회 |
| POST | /api/mes/work-results | 작업실적 등록 |
| GET | /api/mes/daily-production | 일일생산현황 |
| GET | /api/mes/lots/{lotNo}/trace | LOT 추적 |
| GET | /api/mes/downtimes | 비가동내역 조회 |

---

*문서버전: 1.0*
*작성일: 2025-01-29*

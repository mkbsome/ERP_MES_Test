# ERP 기준정보관리 모듈 기능정의서

## 모듈 개요

| 항목 | 내용 |
|------|------|
| **모듈ID** | ERP-BAS |
| **모듈명** | 기준정보관리 |
| **화면수** | 8개 |
| **목적** | ERP 운영에 필요한 기초 마스터 데이터 관리 |

---

## 화면 목록

| No | 화면ID | 화면명 | 개발우선순위 |
|----|--------|--------|-------------|
| 1 | ERP-BAS-001 | 공통코드관리 | P1 |
| 2 | ERP-BAS-002 | 품목기준정보 | P1 |
| 3 | ERP-BAS-003 | 품목분류관리 | P2 |
| 4 | ERP-BAS-004 | 거래처정보 | P1 |
| 5 | ERP-BAS-005 | BOM관리 | P1 |
| 6 | ERP-BAS-006 | BOM조회 | P1 |
| 7 | ERP-BAS-007 | 단가관리 | P2 |
| 8 | ERP-BAS-008 | 창고관리 | P2 |

---

## 화면별 상세 기능정의

### ERP-BAS-001 공통코드관리

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | ERP-BAS-001 |
| **화면명** | 공통코드관리 |
| **화면유형** | CRUD |
| **접근권한** | 시스템관리자 |

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 코드그룹ID | code_group_id | VARCHAR(20) | Y | PK |
| 코드그룹명 | code_group_name | VARCHAR(100) | Y | |
| 코드 | code | VARCHAR(20) | Y | PK |
| 코드명 | code_name | VARCHAR(100) | Y | |
| 정렬순서 | sort_order | INT | N | |
| 비고1 | attr1 | VARCHAR(100) | N | |
| 비고2 | attr2 | VARCHAR(100) | N | |
| 사용여부 | is_active | BOOLEAN | Y | |

#### 주요 코드그룹
| 그룹ID | 그룹명 | 예시 코드 |
|--------|--------|----------|
| ITEM_TYPE | 품목유형 | RAW(원자재), SEMI(반제품), PROD(완제품) |
| UNIT | 단위 | EA, PCS, KG, M, SET |
| CUST_TYPE | 거래처유형 | CUSTOMER(고객), SUPPLIER(공급업체) |
| WH_TYPE | 창고유형 | RAW(원자재), WIP(재공), FG(완제품) |
| ORDER_STATUS | 주문상태 | DRAFT, CONFIRMED, SHIPPED, CLOSED |
| PAYMENT_TERM | 결제조건 | CASH, NET30, NET60 |

---

### ERP-BAS-002 품목기준정보

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | ERP-BAS-002 |
| **화면명** | 품목기준정보 |
| **화면유형** | CRUD + MES연동 |
| **접근권한** | 기준정보담당, 시스템관리자 |

#### 기능설명
제품, 반제품, 원자재의 품목 마스터 정보를 관리한다. MES로 자동 동기화된다.

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 품목코드 | item_code | VARCHAR(30) | Y | PK |
| 품목명 | item_name | VARCHAR(200) | Y | |
| 품목영문명 | item_name_en | VARCHAR(200) | N | |
| 품목유형 | item_type | VARCHAR(20) | Y | RAW/SEMI/PROD |
| 품목분류 | category_code | VARCHAR(20) | N | FK |
| 단위 | unit | VARCHAR(10) | Y | |
| 규격 | spec | VARCHAR(200) | N | |
| 도면번호 | drawing_no | VARCHAR(50) | N | |
| 표준단가 | std_price | DECIMAL(15,2) | N | |
| 안전재고 | safety_stock | DECIMAL(15,3) | N | |
| 발주점 | reorder_point | DECIMAL(15,3) | N | |
| 리드타임 | lead_time_days | INT | N | 일수 |
| 주공급업체 | main_supplier | VARCHAR(20) | N | FK |
| MES동기화 | sync_to_mes | BOOLEAN | Y | |
| 사용여부 | is_active | BOOLEAN | Y | |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ 품목 기준정보                                                │
├─────────────────────────────────────────────────────────────┤
│ [검색조건]                                                   │
│ 품목코드: [______] 품목명: [______] 유형: [전체▼]            │
│ 분류: [전체▼] [검색] [엑셀다운로드] [MES동기화]              │
├───────────────────────┬─────────────────────────────────────┤
│ [품목 목록]            │ [상세정보]                           │
│ 코드│품목명│유형│단위│ │ ┌─────────┬─────────┬─────────┐   │
│ ───┼─────┼───┼───│ │ │ 기본정보 │ 재고관리 │ 구매정보 │   │
│ GB-MB-001│메인보드A│PROD│EA│ │ └─────────┴─────────┴─────────┘   │
│ M-PCB-001│PCB기판│RAW│EA│ │                                   │
│ M-IC-001│메인IC│RAW│EA│ │ 품목코드: [GB-MB-001   ]          │
│         │     │   │  │ │ 품목명: [스마트폰 메인보드 A    ]  │
│         │     │   │  │ │ 품목유형: [완제품▼]               │
│         │     │   │  │ │ 단위: [EA▼]   규격: [85x55mm]    │
│         │     │   │  │ │ 표준단가: [25,000    ]원          │
│         │     │   │  │ │ 안전재고: [500      ] EA          │
│         │     │   │  │ │ MES동기화: [✓]                    │
├───────────────────────┴─────────────────────────────────────┤
│ [신규] [저장] [삭제] [복사]                                   │
└─────────────────────────────────────────────────────────────┘
```

#### 초기 데이터 (완제품 - PCB 제품군)
| 품목코드 | 품목명 | 유형 | 단위 | 표준단가 |
|----------|--------|------|------|----------|
| GB-MB-001 | 스마트폰 메인보드 A | PROD | EA | 25,000 |
| GB-MB-002 | 스마트폰 메인보드 B | PROD | EA | 28,000 |
| GB-PW-001 | 전원보드 A | PROD | EA | 12,000 |
| GB-LED-001 | LED 드라이버 A | PROD | EA | 8,500 |
| GB-ECU-001 | 자동차 ECU A | PROD | EA | 45,000 |
| GB-IOT-001 | IoT 모듈 A | PROD | EA | 15,000 |

---

### ERP-BAS-003 품목분류관리

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | ERP-BAS-003 |
| **화면명** | 품목분류관리 |
| **화면유형** | CRUD (트리구조) |
| **접근권한** | 기준정보담당, 시스템관리자 |

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 분류코드 | category_code | VARCHAR(20) | Y | PK |
| 분류명 | category_name | VARCHAR(100) | Y | |
| 상위분류 | parent_code | VARCHAR(20) | N | FK (자기참조) |
| 분류레벨 | level | INT | Y | 1=대분류, 2=중분류, 3=소분류 |
| 정렬순서 | sort_order | INT | N | |
| 사용여부 | is_active | BOOLEAN | Y | |

#### 분류 체계 (PCB 제조업)
```
완제품 (PROD)
├── 메인보드 (MB)
│   ├── 스마트폰용 (MB-SP)
│   └── 태블릿용 (MB-TB)
├── 전원보드 (PW)
├── LED드라이버 (LED)
├── 자동차ECU (ECU)
└── IoT모듈 (IOT)

반제품 (SEMI)
├── SMT완성품 (SMT)
└── 조립완성품 (ASSY)

원자재 (RAW)
├── PCB기판 (PCB)
├── IC (IC)
├── 수동부품 (PASSIVE)
│   ├── 저항 (RES)
│   ├── 콘덴서 (CAP)
│   └── 인덕터 (IND)
├── 커넥터 (CONN)
└── 기타부품 (ETC)
```

---

### ERP-BAS-004 거래처정보

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | ERP-BAS-004 |
| **화면명** | 거래처정보 |
| **화면유형** | CRUD |
| **접근권한** | 영업담당, 구매담당, 기준정보담당 |

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 거래처코드 | partner_code | VARCHAR(20) | Y | PK |
| 거래처명 | partner_name | VARCHAR(200) | Y | |
| 거래처유형 | partner_type | VARCHAR(20) | Y | CUSTOMER/SUPPLIER/BOTH |
| 사업자번호 | biz_no | VARCHAR(15) | N | |
| 대표자 | ceo_name | VARCHAR(50) | N | |
| 업태 | biz_type | VARCHAR(100) | N | |
| 종목 | biz_item | VARCHAR(100) | N | |
| 주소 | address | VARCHAR(500) | N | |
| 전화번호 | phone | VARCHAR(20) | N | |
| 팩스번호 | fax | VARCHAR(20) | N | |
| 이메일 | email | VARCHAR(100) | N | |
| 담당자 | contact_name | VARCHAR(50) | N | |
| 담당자연락처 | contact_phone | VARCHAR(20) | N | |
| 결제조건 | payment_term | VARCHAR(20) | N | |
| 신용한도 | credit_limit | DECIMAL(15,2) | N | |
| 사용여부 | is_active | BOOLEAN | Y | |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ 거래처 정보                                                  │
├─────────────────────────────────────────────────────────────┤
│ [검색조건]                                                   │
│ 거래처코드: [______] 거래처명: [______] 유형: [전체▼] [검색] │
├───────────────────────┬─────────────────────────────────────┤
│ [거래처 목록]          │ [상세정보]                           │
│ 코드│거래처명│유형│상태│ │ ┌─────────┬─────────┬─────────┐   │
│ ───┼──────┼───┼───│ │ │ 기본정보 │ 사업정보 │ 담당/결제│   │
│ C001│삼성전자│고객│ ✅│ │ └─────────┴─────────┴─────────┘   │
│ C002│LG전자│고객│ ✅│ │                                   │
│ S001│삼화전기│공급│ ✅│ │ 거래처코드: [C001        ]         │
│ S002│대덕전자│공급│ ✅│ │ 거래처명: [삼성전자(주)   ]        │
│         │      │   │  │ │ 유형: [고객▼]                     │
│         │      │   │  │ │ 사업자번호: [123-45-67890]        │
│         │      │   │  │ │ 대표자: [이재용        ]          │
│         │      │   │  │ │ 결제조건: [NET30▼]                │
│         │      │   │  │ │ 신용한도: [100,000,000]원         │
├───────────────────────┴─────────────────────────────────────┤
│ [신규] [저장] [삭제]                                         │
└─────────────────────────────────────────────────────────────┘
```

#### 초기 데이터 (고객)
| 코드 | 거래처명 | 유형 | 결제조건 |
|------|----------|------|----------|
| C001 | 삼성전자 | 고객 | NET30 |
| C002 | LG전자 | 고객 | NET30 |
| C003 | 현대모비스 | 고객 | NET45 |
| C004 | SK하이닉스 | 고객 | NET30 |
| C005 | 한화시스템 | 고객 | NET60 |

#### 초기 데이터 (공급업체)
| 코드 | 거래처명 | 유형 | 주요품목 |
|------|----------|------|----------|
| S001 | 삼화전기 | 공급업체 | 콘덴서, 저항 |
| S002 | 대덕전자 | 공급업체 | PCB기판 |
| S003 | 삼성전기 | 공급업체 | MLCC |
| S004 | SK하이닉스 | 공급업체 | 메모리IC |
| S005 | 인텔코리아 | 공급업체 | CPU |

---

### ERP-BAS-005 BOM관리

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | ERP-BAS-005 |
| **화면명** | BOM관리 |
| **화면유형** | Master-Detail (트리) |
| **접근권한** | 생산관리자, 기준정보담당 |

#### 기능설명
제품 BOM(Bill of Material)을 등록/관리한다. 다단계 BOM 지원.

#### 데이터 항목 (BOM 헤더)
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 모품목코드 | parent_item | VARCHAR(30) | Y | PK |
| BOM버전 | bom_version | VARCHAR(10) | Y | PK |
| 유효시작일 | valid_from | DATE | Y | |
| 유효종료일 | valid_to | DATE | N | |
| 상태 | status | VARCHAR(20) | Y | DRAFT/ACTIVE/OBSOLETE |
| 기준수량 | base_qty | DECIMAL(15,3) | Y | 기본값: 1 |

#### 데이터 항목 (BOM 상세)
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 모품목코드 | parent_item | VARCHAR(30) | Y | FK |
| BOM버전 | bom_version | VARCHAR(10) | Y | FK |
| 순번 | seq_no | INT | Y | |
| 자품목코드 | child_item | VARCHAR(30) | Y | FK |
| 소요량 | qty_per | DECIMAL(15,5) | Y | |
| 단위 | unit | VARCHAR(10) | Y | |
| 손실률 | loss_rate | DECIMAL(5,2) | N | % |
| 대체품여부 | is_alternative | BOOLEAN | N | |
| 비고 | remarks | VARCHAR(500) | N | |

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ BOM 관리                                                     │
├─────────────────────────────────────────────────────────────┤
│ [모품목 선택]                                                │
│ 모품목: [GB-MB-001▼] (스마트폰 메인보드 A)                   │
│ BOM버전: [1.0▼]  상태: 활성  유효기간: 2024-01-01 ~         │
├─────────────────────────────────────────────────────────────┤
│ [BOM 구조 - 트리뷰]                                          │
│                                                             │
│ 📦 GB-MB-001 (스마트폰 메인보드 A) - 1 EA                    │
│ ├─📋 M-PCB-001 (PCB기판 85x55) - 1 EA                       │
│ ├─📋 M-IC-001 (메인프로세서 IC) - 1 EA                      │
│ ├─📋 M-IC-002 (메모리 IC 8GB) - 2 EA                        │
│ ├─📋 M-CAP-001 (MLCC 0.1uF) - 25 EA                         │
│ ├─📋 M-CAP-002 (MLCC 10uF) - 10 EA                          │
│ ├─📋 M-RES-001 (칩저항 10K) - 30 EA                         │
│ ├─📋 M-RES-002 (칩저항 1K) - 20 EA                          │
│ ├─📋 M-CONN-001 (커넥터 USB-C) - 1 EA                       │
│ └─📋 M-CONN-002 (커넥터 FPC) - 2 EA                         │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│ [상세 그리드]                                                │
│ 순번│품목코드│품목명│소요량│단위│손실률│비고                  │
│ ───┼──────┼─────┼────┼───┼────┼───                       │
│  10│M-PCB-001│PCB기판│ 1.00│ EA│ 2.0%│                      │
│  20│M-IC-001│메인IC│ 1.00│ EA│ 0.5%│                       │
│  30│M-IC-002│메모리IC│2.00│ EA│ 0.5%│                       │
├─────────────────────────────────────────────────────────────┤
│ [행추가] [행삭제] [저장] [버전생성] [MES전송]                 │
└─────────────────────────────────────────────────────────────┘
```

---

### ERP-BAS-006 BOM조회

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | ERP-BAS-006 |
| **화면명** | BOM조회 |
| **화면유형** | 조회 (전개/역전개) |
| **접근권한** | 전체 |

#### 기능설명
BOM 정전개(모품목→자품목) 및 역전개(자품목→모품목)를 조회한다.

#### 화면 레이아웃
```
┌─────────────────────────────────────────────────────────────┐
│ BOM 조회                                                     │
├─────────────────────────────────────────────────────────────┤
│ [조회조건]                                                   │
│ 전개유형: ◉ 정전개 ○ 역전개                                 │
│ 품목코드: [GB-MB-001  ] 품목명: [스마트폰 메인보드 A]        │
│ 기준수량: [100    ]  기준일자: [2025-01-29] [조회]           │
├─────────────────────────────────────────────────────────────┤
│ [BOM 전개 결과]                                              │
│                                                             │
│ Lv│품목코드│품목명│단위소요│총소요량│단위│재고│부족수량      │
│ ──┼──────┼─────┼─────┼─────┼───┼───┼─────              │
│ 0 │GB-MB-001│메인보드A│ 1.00│  100│EA│ 50│  50              │
│ .1│M-PCB-001│PCB기판│ 1.00│  100│EA│ 200│   0              │
│ .1│M-IC-001│메인IC│ 1.00│  100│EA│  80│  20              │
│ .1│M-IC-002│메모리IC│2.00│  200│EA│ 150│  50              │
│ .1│M-CAP-001│MLCC 0.1uF│25.00│2,500│EA│3,000│ 0              │
│ .1│M-CAP-002│MLCC 10uF│10.00│1,000│EA│ 800│ 200             │
│ .1│M-RES-001│칩저항10K│30.00│3,000│EA│5,000│ 0              │
├─────────────────────────────────────────────────────────────┤
│ [총 소요 자재 요약]                                          │
│ 총 품목 수: 9개  │  부족 품목: 3개  │  [엑셀다운로드]        │
└─────────────────────────────────────────────────────────────┘
```

---

### ERP-BAS-007 단가관리

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | ERP-BAS-007 |
| **화면명** | 단가관리 |
| **화면유형** | CRUD |
| **접근권한** | 영업담당, 구매담당 |

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 단가ID | price_id | VARCHAR(20) | Y | PK |
| 품목코드 | item_code | VARCHAR(30) | Y | FK |
| 거래처코드 | partner_code | VARCHAR(20) | N | FK (NULL=표준단가) |
| 단가유형 | price_type | VARCHAR(20) | Y | PURCHASE/SALES |
| 통화 | currency | VARCHAR(3) | Y | KRW/USD/EUR |
| 단가 | unit_price | DECIMAL(15,2) | Y | |
| 최소수량 | min_qty | DECIMAL(15,3) | N | 수량별 단가 |
| 유효시작일 | valid_from | DATE | Y | |
| 유효종료일 | valid_to | DATE | N | |
| 비고 | remarks | VARCHAR(500) | N | |

---

### ERP-BAS-008 창고관리

#### 기본정보
| 항목 | 내용 |
|------|------|
| **화면ID** | ERP-BAS-008 |
| **화면명** | 창고관리 |
| **화면유형** | CRUD |
| **접근권한** | 자재관리자, 시스템관리자 |

#### 데이터 항목
| 필드명 | 필드ID | 타입 | 필수 | 설명 |
|--------|--------|------|------|------|
| 창고코드 | warehouse_code | VARCHAR(10) | Y | PK |
| 창고명 | warehouse_name | VARCHAR(100) | Y | |
| 창고유형 | warehouse_type | VARCHAR(20) | Y | RAW/WIP/FG/RETURN |
| 공장코드 | plant_code | VARCHAR(10) | Y | FK |
| 위치 | location | VARCHAR(200) | N | |
| 담당자 | manager_id | VARCHAR(20) | N | |
| 사용여부 | is_active | BOOLEAN | Y | |

#### 초기 데이터
| 창고코드 | 창고명 | 유형 | 공장 |
|----------|--------|------|------|
| WH-RAW-PT | 원자재창고(평택) | RAW | 평택 |
| WH-WIP-PT | 재공품창고(평택) | WIP | 평택 |
| WH-FG-PT | 완제품창고(평택) | FG | 평택 |
| WH-RAW-AS | 원자재창고(안성) | RAW | 안성 |
| WH-FG-AS | 완제품창고(안성) | FG | 안성 |
| WH-RTN | 반품창고 | RETURN | 평택 |

---

## 테이블 설계

### 주요 테이블 목록
| 테이블명 | 설명 |
|----------|------|
| erp_code_group | 코드그룹 |
| erp_common_code | 공통코드 |
| erp_item | 품목마스터 |
| erp_item_category | 품목분류 |
| erp_partner | 거래처 |
| erp_bom_header | BOM헤더 |
| erp_bom_detail | BOM상세 |
| erp_item_price | 품목단가 |
| erp_warehouse | 창고 |

---

## API 엔드포인트

| Method | Endpoint | 설명 |
|--------|----------|------|
| GET | /api/erp/common-codes | 공통코드 목록 |
| GET | /api/erp/common-codes/{groupId} | 그룹별 코드 |
| GET | /api/erp/items | 품목 목록 |
| POST | /api/erp/items | 품목 등록 |
| PUT | /api/erp/items/{code} | 품목 수정 |
| POST | /api/erp/items/sync-mes | MES 동기화 |
| GET | /api/erp/partners | 거래처 목록 |
| POST | /api/erp/partners | 거래처 등록 |
| GET | /api/erp/bom/{itemCode} | BOM 조회 |
| POST | /api/erp/bom | BOM 등록 |
| GET | /api/erp/bom/{itemCode}/explode | BOM 전개 |
| GET | /api/erp/warehouses | 창고 목록 |

---

*문서버전: 1.0*
*작성일: 2025-01-29*
